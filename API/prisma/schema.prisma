// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
    id String @default(uuid())
    nome String
    email String @id 
    password String
    conta conta?
}

model conta {
    contaid String @default(uuid())
    userid String @unique 
    proprietario String 
    numero String @id
    saldo Float
    user user @relation(fields: [userid], references: [email])
    pagamentos pagamento[]
    transferencias transferencia[]
}

model pagamento {
    pagamentoid String @default(uuid())
    proprietario String @id
    contaid String
    valor Float
    moeda String
    descricao String?
    data DateTime
    conta conta @relation(fields: [contaid], references: [numero])
}

model transferencia {
    transferenciaid String @default(uuid())
    proprietario String @id
    contaid String
    destinatario String
    valor Float
    data DateTime
    conta conta @relation(fields: [contaid], references: [numero])
}